{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/notes.ts"],"sourcesContent":["'use server'\n\nimport fs from 'fs';\nimport path from 'path';\n\nconst NOTES_DIR = process.env.NOTES_PATH || '/notes';\n\nif (!fs.existsSync(NOTES_DIR)) {\n    fs.mkdirSync(NOTES_DIR, { recursive: true });\n}\n\nexport type NoteItem = {\n    name: string;\n    title: string;\n    path: string;\n    type: 'file' | 'folder';\n    children?: NoteItem[];\n};\n\nexport async function getNotes(dir = NOTES_DIR): Promise<NoteItem[]> {\n    const items = fs.readdirSync(dir, { withFileTypes: true });\n    const result: NoteItem[] = [];\n\n    for (const item of items) {\n        const fullPath = path.join(dir, item.name);\n        const relativePath = path.relative(NOTES_DIR, fullPath);\n\n        if (item.isDirectory()) {\n            result.push({\n                name: item.name,\n                title: item.name,\n                path: relativePath,\n                type: 'folder',\n                children: await getNotes(fullPath),\n            });\n        } else if (item.name.endsWith('.md')) {\n            const content = fs.readFileSync(fullPath, 'utf-8');\n            const h1Match = content.match(/^#\\s+(.+)$/m);\n            result.push({\n                name: item.name.replace('.md', ''),\n                title: h1Match ? h1Match[1].trim() : item.name.replace('.md', ''),\n                path: relativePath,\n                type: 'file',\n            });\n        }\n    }\n\n    return result.sort((a, b) => {\n        if (a.type !== b.type) return a.type === 'folder' ? -1 : 1;\n        return a.title.localeCompare(b.title);\n    });\n}\n\nexport async function readNote(filename: string) {\n    const filePath = path.join(NOTES_DIR, filename);\n    if (!fs.existsSync(filePath)) return '';\n    return fs.readFileSync(filePath, 'utf-8');\n}\n\nexport async function saveNote(filename: string, content: string) {\n    const filePath = path.join(NOTES_DIR, filename);\n    fs.writeFileSync(filePath, content, 'utf-8');\n    return { success: true };\n}\n\nexport async function createNote(name: string, folderPath = '') {\n    const filename = name.endsWith('.md') ? name : `${name}.md`;\n    const filePath = path.join(NOTES_DIR, folderPath, filename);\n    if (fs.existsSync(filePath)) return { error: 'Bestand bestaat al' };\n    fs.writeFileSync(filePath, '# ' + name, 'utf-8');\n    return { success: true, path: path.join(folderPath, filename) };\n}\n\nexport async function createFolder(name: string, parentPath = '') {\n    const folderPath = path.join(NOTES_DIR, parentPath, name);\n    if (fs.existsSync(folderPath)) return { error: 'Map bestaat al' };\n    fs.mkdirSync(folderPath, { recursive: true });\n    return { success: true };\n}\n\nexport async function deleteItem(itemPath: string) {\n    const fullPath = path.join(NOTES_DIR, itemPath);\n    if (fs.existsSync(fullPath)) {\n        const stats = fs.statSync(fullPath);\n        if (stats.isDirectory()) {\n            fs.rmSync(fullPath, { recursive: true, force: true });\n        } else {\n            fs.unlinkSync(fullPath);\n        }\n    }\n    return { success: true };\n}\n\nexport async function moveItem(oldPath: string, newParentPath: string) {\n    const sourcePath = path.join(NOTES_DIR, oldPath);\n    const itemName = path.basename(oldPath);\n    const destinationPath = path.join(NOTES_DIR, newParentPath, itemName);\n\n    if (!fs.existsSync(sourcePath)) return { error: 'Bronbestand bestaat niet' };\n    if (fs.existsSync(destinationPath)) return { error: 'Doelbestand bestaat al' };\n\n    fs.renameSync(sourcePath, destinationPath);\n    return { success: true };\n}\n\nexport async function searchNotes(query: string): Promise<NoteItem[]> {\n    const results: NoteItem[] = [];\n    const searchInDir = async (dir: string) => {\n        const items = fs.readdirSync(dir, { withFileTypes: true });\n        for (const item of items) {\n            const fullPath = path.join(dir, item.name);\n            const relativePath = path.relative(NOTES_DIR, fullPath);\n\n            if (item.isDirectory()) {\n                await searchInDir(fullPath);\n            } else if (item.name.endsWith('.md')) {\n                const content = fs.readFileSync(fullPath, 'utf-8');\n                const h1Match = content.match(/^#\\s+(.+)$/m);\n                const title = h1Match ? h1Match[1].trim() : item.name.replace('.md', '');\n\n                if (\n                    title.toLowerCase().includes(query.toLowerCase()) ||\n                    content.toLowerCase().includes(query.toLowerCase())\n                ) {\n                    results.push({\n                        name: item.name.replace('.md', ''),\n                        title: title,\n                        path: relativePath,\n                        type: 'file',\n                    });\n                }\n            }\n        }\n    };\n\n    await searchInDir(NOTES_DIR);\n    return results;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///app/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getNotes as '407d06cc5ee6d0734b075403256c654a1bf7223e39'} from 'ACTIONS_MODULE0'\nexport {readNote as '4023ba13b6317b7ae387552f335d55b395caed2679'} from 'ACTIONS_MODULE0'\nexport {saveNote as '6090213f73d14b16922bf75f55acb33baccd1c272b'} from 'ACTIONS_MODULE0'\nexport {createNote as '6070b34c2490facdb965d6a0f05b169e3a3fcc7059'} from 'ACTIONS_MODULE0'\nexport {deleteItem as '4001e58c9c8475b92ab836c3a7d1fb1671ab8ddc1c'} from 'ACTIONS_MODULE0'\nexport {createFolder as '6086b642a43e13616489bf76e9c7cbea56800a884b'} from 'ACTIONS_MODULE0'\nexport {moveItem as '608c855d343aafabb9c03edf00c4539ef8f6ad80f7'} from 'ACTIONS_MODULE0'\nexport {searchNotes as '402df0dca6027f3ff4a9db9c7d9b1c7648745db640'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///app/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///app/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}